\chapter{Some category theory}\label{AppenA}
Let \(\mathcal{A}\) be a small category. We call the category of contravariant functors
\[\mathcal{P}(\mathcal{A}):=\t{Fun}(\mathcal{A}^{op},\mathcal{Set})\]
the presheaf category over \(\mathcal{A}\). Suppose \(\mathcal{C}\) is a cocomplete category, i.e., \(\mathcal{C}\) admits all small colimits. We have the Yoneda embedding: \(y:\mathcal{A}\rightarrow \mathcal{P}(\mathcal{A})\). Given a covariant functor \(\mathcal{F}:\mathcal{A}\rightarrow \mathcal{C}\), we want to extend \(\mathcal{F}\) to \(\mathcal{P}(\mathcal{A})\), namely construct the following dotted arrow, making the diagram 
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJcXG1hdGhjYWx7QX0iXSxbMSwwLCJcXG1hdGhjYWx7Q30iXSxbMCwxLCJcXG1hdGhjYWx7UH0oXFxtYXRoY2Fse0F9KSJdLFswLDEsIlxcbWF0aGNhbHtRfSJdLFswLDIsInkiLDJdLFsyLDEsIiIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\[\begin{tikzcd}
    {\mathcal{A}} & {\mathcal{C}} \\
    {\mathcal{P}(\mathcal{A})}
    \arrow["{\mathcal{F}}", from=1-1, to=1-2]
    \arrow["y"', from=1-1, to=2-1]
    \arrow[dashed, from=2-1, to=1-2]
  \end{tikzcd}\]
commute. Even better, this extension admits a right adjoint. The statement will be made precise, following the book~\cite{cisinskiHigherCategoriesHomotopical2019}. We first show that for a presheaf \(X\in \mathcal{P}(A)\), \(X\) can be written as the colimit of representable functors. For any object \(a\in \mathcal{A}\), we denote by \(h_a\) the representable functor \(\hom_{\mathcal{A}}(-,a)\) in \(\mathcal{P}(\mathcal{A})\).
\begin{definition}[Category of elements]
     Let \(\mathcal{A}\) be a category and \(X\in \mathcal{P}(\mathcal{A})\) is a presheaf over \(\mathcal{A}\). We define the category of elements of \(X\) (denoted by \(\mathcal{A}/X\)) as follows:
     \begin{itemize}
      \item The objects are \((a,s)\) where \(a\) is an object of \(\mathcal{A}\) and \(s\) is a morphism in \(\hom_{\mathcal{P}(\mathcal{A})}(h_a,X)\), which can be viewed as a section \(s\in X(a)\) by Yoneda lemma.
      \item The morphisms in \(\mathcal{A}/X\) are given by a morphism \(u:a\rightarrow b\) in \(\mathcal{A}\). By Yoneda lemma, is a commutative diagram 
      % https://q.uiver.app/#q=WzAsMyxbMCwwLCJoX2EiXSxbMiwwLCJoX2IiXSxbMSwxLCJYIl0sWzAsMiwicyIsMl0sWzEsMiwidCJdLFswLDEsInVfKiJdXQ==
      \[\begin{tikzcd}
          {h_a} && {h_b} \\
          & X
          \arrow["{u_*}", from=1-1, to=1-3]
          \arrow["s"', from=1-1, to=2-2]
          \arrow["t", from=1-3, to=2-2]
        \end{tikzcd}\]
     \end{itemize}
\end{definition}
Naturally we have a faithful functor 
\[\mathcal{A}/X\rightarrow \mathcal{P}(\mathcal{A})\]
sending \((a,s)\) to \(h_a\). The collection of maps 
\[s:h_a\rightarrow X\]
for \((a,s)\in \mathcal{A}/X\) gives a cocone over \(X\). And we have the following.
\begin{proposition}    
     Any \((a,s)\in \t{Ob}(\mathcal{A}/X)\) gives rise to a morphism \(s:h_a\rightarrow X\). If \((a,s),(b,t)\) are two objects in \(\mathcal{A}/X\) and \(u:a\rightarrow b\) is a morphism in \(\mathcal{A}\), we have a commutative triangle 
     % https://q.uiver.app/#q=WzAsMyxbMCwwLCJoX2EiXSxbMiwwLCJoX2IiXSxbMSwxLCJYIl0sWzAsMiwicyIsMl0sWzEsMiwidCJdLFswLDEsInUiXV0=
     \[\begin{tikzcd}
         {h_a} && {h_b} \\
         & X
         \arrow["u", from=1-1, to=1-3]
         \arrow["s"', from=1-1, to=2-2]
         \arrow["t", from=1-3, to=2-2]
       \end{tikzcd}\]
      Moreover, \(X\) can be written as colimit of such functors.
      \[X\cong \t{colim}_{(a,s)\in \mathcal{A}/X}h_a\]
\end{proposition}

If \(\mathcal{A}\) is a small category, then \(\mathcal{P}(\mathcal{A})\) is a locally small category. The covariant functor \(\mathcal{F}:\mathcal{A}\rightarrow \mathcal{C}\) gives us a functor of evaluation at \(\mathcal{F}\):
\begin{align*}
     \mathcal{F}^*:\mathcal{C}&\rightarrow \mathcal{P}(\mathcal{A}),\\ 
                   Y&\mapsto \hom_\mathcal{C}(\mathcal{F}(-),Y)
\end{align*}

\begin{proposition}[Kan]
     The functor \(\mathcal{F}^*\) has a left adjoint 
     \[\mathcal{F}_!:\mathcal{P}(\mathcal{A})\rightarrow \mathcal{C}.\]
     Moreover, for any object \(a\) in \(\mathcal{A}\), there is a unique natural isomorphism 
     \[\mathcal{F}(a)\cong \mathcal{F}_!(h_a)\]
     such that, for any object \(Y\in \mathcal{C}\), the induced bijection gives the adjunction formula
     \[\hom_\mathcal{C}(\mathcal{F}_!(h_a),Y)\cong \hom_\mathcal{C}(\mathcal{F}(a),Y)\cong \hom_{\mathcal{P}(\mathcal{A})}(h_a,\mathcal{F}^*(Y)).\]
\end{proposition}
\begin{proof}
    Let \(X\in \mathcal{P}(\mathcal{A})\) be a presheaf. By the previous proposition, we know that 
    \[X\cong \t{colim}_{(a,s)}h_a.\]
    Let \(p:\mathcal{A}/X\rightarrow \mathcal{A}\) be the projection functor sending \((a,s)\) to \(a\in \mathcal{A}\). Define
   \begin{align*}
        \mathcal{F}_!(X):&=\t{colim}_{(a,s)}(\mathcal{F}\circ p)(a,s)\\ 
                         &=\t{colim}_{(a,s)}\mathcal{F}(a).
   \end{align*}
   When \(X=h_a\) is representable, we get the canonical isomorphism 
   \[\mathcal{F}_!(h_a)\cong \mathcal{F}(a)\]
   because \((a,id)\) is the final object in \(\mathcal{A}/h_a\). Recall that the \(\hom\) functor preserves limits, so we have 
    \begin{align*}
         \hom_\mathcal{C}(\mathcal{F}_!(X),Y)&\cong \hom_\mathcal{C}(\t{colim}_{(a,s)}\mathcal{F}(a),Y)\\ 
                                             &\cong \t{lim}_{(a,s)}\hom_\mathcal{C}(\mathcal{F}(a),Y)\\ 
                                            &\cong \t{lim}_{(a,s)}\hom_{\mathcal{P}(\mathcal{A})}(h_a,\mathcal{F}^*(Y))\\
                                           &\cong \hom_{\mathcal{P}(\mathcal{A})}(\t{colim}_{(a,s)}h_a,\mathcal{F}^*(Y))\\ 
                                           &\cong \hom_{\mathcal{P}(\mathcal{A})}(X,\mathcal{F}^*(Y)). 
     \end{align*}
    This proves that \(\mathcal{F}_!\) is left adjoint to \(\mathcal{F}^*\).
\end{proof}

Now we consider \(\mathcal{P}(\mathcal{A})\) is the category of simplicial sets, i.e., when \(\mathcal{A}\) is the category of finite ordinals. Let \(\mathcal{F}:\Delta\rightarrow \mathcal{C}\) be a covariant functor from \(\Delta\) to a cocomplete, locally small category. Suppose \(Y\in \mathcal{C}\) is an object, we can define 
\[(\mathcal{F}^*Y)_n:=\hom_{\mathcal{C}}(\mathcal{F}[n],Y).\]
We have \(d_i:(\mathcal{F}^*Y)_n\rightarrow (\mathcal{F}^*Y)_{n-1}\) is given by the precomposition with \(\mathcal{F}d^i:\mathcal{F}[n-1]\rightarrow \mathcal{F}[n]\) and \(s_i: (\mathcal{F}^*Y)_n\rightarrow (\mathcal{F}^*Y)_{n+1}\) is given by the precomposition with \(\mathcal{F}s^i:\mathcal{F}[n+1]\rightarrow \mathcal{F}[n]\). Checking the simplicial identities implies that \(\mathcal{F}^*Y\) is a simplicial set. The left adjoint \(\mathcal{F}_!\) is the left Kan extension of \(\mathcal{F}\) along the Yoneda embedding \(y\):  
\[\begin{tikzcd}
    {\mathcal{\Delta}} & {\mathcal{C}} \\
    {\mathcal{sSet}}
    \arrow["{\mathcal{F}}", from=1-1, to=1-2]
    \arrow["y"', from=1-1, to=2-1]
    \arrow["L",dashed, from=2-1, to=1-2]
  \end{tikzcd}\]
From our discussion above, the left Kan extension \(L\) is just \(\mathcal{F}_!\), and it is left adjoint to \(\mathcal{F}^*\). There is a more explicit construction of \(L\) using the copower, see~\cite{riehlLeisurelyIntroductionSimplicial}.
\begin{definition}[copower]
     For any set \(S\) and object \(c\in \mathcal{C}\), the \textbf{copower} or \textbf{tensor} of \(c\) by \(S\), denoted \(S\cdot c\), is simply the coproduct \(\bigsqcup_S c\): copies of \(c\) indexed by \(S\).
\end{definition}
If \(X\) is a simplicial set, we may form copowers
\[X_m\cdot \mathcal{F}[n]\]
for any \(n,m\geq 0\). A morphism \(f:[n]\rightarrow [m]\) induces a map 
\[f_*:X[m]\cdot \mathcal{F}[n]\rightarrow X[m]\cdot \mathcal{F}[m]\]
and a map 
\[f^*:X[m]\cdot \mathcal{F}[n]\rightarrow X[n]\cdot \mathcal{F}[n].\]
The left Kan extension for a simplicial set \(X\) is 
\[LX:=\t{coeq}\ (\bigsqcup_{f:[n]\rightarrow [m]}X_m\cdot \mathcal{F}[n]\mathrel{\mathop{\rightrightarrows}^{f_*}_{f^*}}\bigsqcup_{[n]}X_n\cdot \mathcal{F}[n]).\]

